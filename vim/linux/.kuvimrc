" Roman Kuznetsov's profile settings

" Common Include {{{1
let s:rc = expand( "$HOME/.kuvimrc_common" )
if filereadable( s:rc )
  execute ':source '.s:rc
endif

" Platform Include {{{1
let s:rc = expand( "$HOME/.kuvimrc_platform" )
if filereadable( s:rc )
  execute ':source '.s:rc
endif

" LaTex Include {{{1
let s:rc = expand( "$HOME/.kuvimrc_latex" )
if filereadable( s:rc )
  execute ':source '.s:rc
endif

" Markdown Include {{{1
let s:rc = expand( "$HOME/.kuvimrc_markdown" )
if filereadable( s:rc )
  execute ':source '.s:rc
endif

" Haskell Include {{{1
let s:rc = expand( "$HOME/.kuvimrc_haskell" )
if filereadable( s:rc )
  execute ':source '.s:rc
endif

" Mapping Include {{{1
let s:rc = expand( "$HOME/.kuvimrc_mapping" )
if filereadable( s:rc )
  execute ':source '.s:rc
endif

" Fonts Include {{{1
let s:rc = expand( "$HOME/.kuvimrc_fonts" )
if filereadable( s:rc )
  execute ':source '.s:rc
endif

" Environment {{{1
" by iMproved
set nocompatible

" Vundle {{{1
let s:rc = expand( "$HOME/.vim/bundle/vundle" )
let s:justCloned = 0
if !isdirectory( s:rc )
  execute ':silent !git clone https://github.com/gmarik/vundle.git "'.s:rc.'"'
  let s:justCloned = 1
endif
" setup runtime path to vundle
let &runtimepath.=','.s:rc
call vundle#rc()
" [ GENERAL ]
  Plugin 'gmarik/vundle'
  Plugin 'mbbill/fencview'
  Plugin 'scrooloose/nerdtree'
  Plugin 'L9'
  Plugin 'FuzzyFinder'
  Plugin 'tpope/vim-fugitive'
  Plugin 'bling/vim-bufferline'
  Plugin 'bling/vim-airline'
  let g:airline_powerline_fonts = 1
  let g:airline_theme='powerlineish'
  Plugin 'csharp.vim'
  Plugin 'PProvost/vim-ps1'
  Plugin 'mhinz/vim-signify'
  Plugin 'nelstrom/vim-markdown-folding'
" [ COLOR SCHEMES ]
  Plugin 'chriskempson/base16-vim'
  Plugin 'kuznero/kuvim-themes'
  "Plugin 'flazz/vim-colorschemes'
" [ HASKELL ]
  Plugin 'scrooloose/syntastic'
  Plugin 'Shougo/vimproc'
  Plugin 'eagletmt/ghcmod-vim'
  Plugin 'eagletmt/neco-ghc'
  let g:necoghc_enable_detailed_browse = 1
  "Plugin 'Hoogle'
if s:justCloned == 1
  " Install all referenced bundles
  execute ':silent PluginInstall!'
endif

" General {{{1
" syntax highlighting
syntax on
" enable filetype detection, plus loading of filetype plugins
filetype plugin indent on
" automatically enable mouse usage
set mouse=a
" setup various encodings
" scriptencoding utf-8
set encoding=utf-8
set fileencodings=utf-8
" store bigger history (default is 20)
set history=1000
" disable spell checking
set nospell
" set spell spelllang=en
" disable backups
set nobackup
" disable swap files
set noswapfile
" disable undo files
set noundofile
" text width
set textwidth=99
set colorcolumn=100

" UI {{{1
" gui specific settings
if has( "gui_running" )
  " enable current line highlight
  set nocursorline
  " load a colorscheme
  colorscheme kuznero-dark-regular
  "colorscheme base16-apathy
  " startup maximized
  "au GUIEnter * call system('wmctrl -i -b add,maximized_vert,maximized_horz -r '.v:windowid)
  " set window size explicitly
  set lines=40
  set columns=120
  " remove menu bar
  set guioptions-=m
  " remove toolbar
  set guioptions-=T
  " remove scroll bars
  set guioptions-=r
  set guioptions-=L
endif
" display the current mode
set showmode
" always show status line
set laststatus=2
" backspace for dummys
set backspace=indent,eol,start
" no extra spaces between rows
set linespace=1
" line numbers on
set number
" show matching brackets/parenthesis
set showmatch
" find as you type search
set incsearch
" highlight search terms
set hlsearch
" case insensitive search
set ignorecase
" case sensitive when uc present
set smartcase
" fold method
set foldmethod=marker
" auto fold enabled
set nofoldenable
" show list characters
set list
" highlight problematic whitespace
"set listchars=eol:$,tab:>-,trail:.,extends:#,nbsp:.
set listchars=tab:>-,trail:.,extends:#,nbsp:.
"set linebreak
"set showbreak=>>

" Formatting {{{1
" wrap long lines
set nowrap
" indent at the same level of the previous line
set autoindent
" enable smart indent
set smartindent
" use indents of 2 spaces
set shiftwidth=2
" tabs are spaces, not tabs
set expandtab
" an indentation every second columns
set tabstop=2
" let backspace delete indent
set softtabstop=2

" Diff {{{1
" disregard whitespaces on file diff
" set diffopt+=iwhite

